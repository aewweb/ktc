/* === Общие контейнеры === */
.site-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1400; /* выше overlay */
  background: white;
  backdrop-filter: blur(4px);
}
.site-header.scrolled {
  /*box-shadow: 0 6px 18px rgba(0,0,0,0.08);*/
}

.site-header .container {
  max-width: 100% !important;
  margin: 0 !important;
}

.header-inner {
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* три колонки */
  align-items: center;
  height: 70px;
  padding: 0 20px;
}

.header-left { justify-self: start; }
.header-center { justify-self: center; }
.header-right {
  justify-self: end;
  display: flex;
  align-items: center;
  gap: 14px;
}

/* Логотип */
.logo {
  display:flex;
  align-items:baseline;
  gap:6px;
  text-decoration:none;
  color:#005fa9;
  font-size:18px;
}
.logo strong { font-size:20px; }
.logo-sub { font-size:12px; color:#005fa9; }

/* Навигация (desktop) */
.nav { display:flex; align-items:center; }
.nav-list {
  display:flex;
  gap:6px;
  list-style:none;
  margin:0;
  padding:0;
  align-items:center;
}
.nav-item { position:relative; }
.nav-link,
.nav-link:focus {
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:10px 14px;
  color:#133248;
  text-decoration:none;
  border-radius:6px;
  font-weight:500;
  transition: color .2s ease;
}
.nav-link:hover,
.nav-link:focus {
  color:#005fa9;
  outline:none;
}

/* caret */
.caret {
  display:inline-block;
  width:8px;
  height:8px;
  border-right:2px solid #133248;
  border-bottom:2px solid #133248;
  transform:rotate(45deg);
  margin-left:6px;
  opacity:.8;
  transition: transform .2s ease, border-color .2s ease;
}
.has-mega.open > .nav-link .caret {
  transform: rotate(-135deg);
  border-color:#005fa9;
}
.has-mega.open > .nav-link {
  color:#005fa9;
}

/* === Mega menu === */
.has-mega { position: static; } /* контейнеры верхнего уровня */

/* меню растягивается от края до края */
.mega-menu {
  position: fixed;       /* фиксируем под шапкой */
  top: 70px;
  left: 0;
  right: 0;
  width: 100vw;
  background: #ffffff;
  /*box-shadow: 0 8px 24px rgba(10,20,30,0.06);
  border-top: 1px solid rgba(0,0,0,0.06);*/

  display: none;
  opacity: 0;
  transform: translateY(8px);
  transition: opacity .22s ease, transform .22s ease;
  padding: 40px 0;
  z-index: 1300; /* выше шапки и overlay */
  pointer-events: auto;
}

/* показываем при hover и open */
.has-mega.open > .mega-menu {
  display: block;
  opacity: 1;
  transform: translateY(0);
}

/* Контейнер */
.mega-menu-inner {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 40px;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 24px;
  box-sizing: border-box;
}

/* Левая колонка */
.mega-links {
  flex: 1;
  display: flex;
  justify-content: flex-start;
}
.mega-links ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.mega-links a {
  font-size: 16px;
  font-weight: 500;
  color: #133248;
  text-decoration: none;
  transition: color .2s ease;
}
.mega-links a:hover { color: #005fa9; }

/* Правая колонка */
.mega-contacts {
  flex: 0 0 auto;
  text-align: right;
  max-width: 280px;
}
.mega-contacts p {
  margin: 6px 0;
  font-size: 14px;
  color: #333;
}
.mega-contacts a {
  color: #005fa9;
  text-decoration: none;
  font-weight: 500;
}
.mega-contacts a:hover { text-decoration: underline; }

/* Overlay для затемнения */
.mega-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.45);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease;
  z-index: 1200; /* ниже .mega-menu (1300), но выше остального контента */
}

.mega-overlay.visible {
  opacity: 1;
  pointer-events: auto;
}

/* CTA и телефон */
.header-actions {
  display:flex;
  align-items:center;
  gap:14px;
}
.phone {
  color:#005fa9;
  text-decoration:none;
  font-weight:600;
}
.btn-primary {
  background:#005fa9;
  color:#fff;
  padding: 5px 15px;
  border-radius:20px;
  text-decoration:none;
  font-size: 16px;
  box-shadow:0 6px 18px rgba(0,64,128,0.12);
  transition: transform .2s ease;
}
.btn-primary:hover { transform:translateY(-1px); }

/* Бургер (mobile) */
.burger {
  display:none;
  background:transparent;
  border:0;
  width:40px;
  height:36px;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  padding:0;
}
.burger span {
  display:block;
  height:3px;
  width:24px;
  background:#133248;
  border-radius:3px;
  margin:3px 0;
  transition:transform .2s ease, opacity .2s ease;
}

/* Mobile menu (hidden on desktop) */
.mobile-menu {
  position:fixed;
  top:0;
  right:-320px;
  width:320px;
  height:100%;
  background:#fff;
  z-index:1450;
  box-shadow: -8px 0 32px rgba(10,20,30,0.12);
  transition:right .28s cubic-bezier(.22,.9,.25,1);
  overflow:auto;
}
.mobile-menu.open { right:0; }
.mobile-menu-inner { padding:80px 20px 40px; }
.mobile-nav-list {
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.mobile-nav-list a {
  display:block;
  padding:12px 6px;
  color:#005fa9;
  text-decoration:none;
  font-weight:600;
  border-radius:6px;
}
.mobile-nav-list a:hover {
  background: rgba(6,84,140,0.04);
}

/* Mobile submenu */
.mobile-submenu {
  display:none;
  list-style:none;
  margin:6px 0 0 0;
  padding-left:6px;
}
.mobile-has-sub .mobile-sub-toggle {
  display:flex;
  justify-content:space-between;
  width:100%;
  padding:12px 6px;
  background:transparent;
  border:0;
  font-weight:600;
}
.mobile-has-sub.open .mobile-submenu {
  display:flex;
  flex-direction:column;
  gap:6px;
  padding-left:8px;
}

/* Overlay */
.menu-overlay {
  position:fixed;
  inset:0;
  background:rgba(10,20,30,0.38);
  opacity:0;
  pointer-events:none;
  transition:opacity .24s ease;
  z-index:1440;
}
.menu-overlay.visible {
  opacity:1;
  pointer-events:auto;
}

/* Responsive rules */
@media (max-width: 992px) {
  .nav { display:none; }
  .burger { display:flex; }
  .header-actions .phone { display:none; }
}
@media (max-width: 420px) {
  .mobile-menu { width:100%; right:-100%; }
  .mobile-menu.open { right:0; }
}
